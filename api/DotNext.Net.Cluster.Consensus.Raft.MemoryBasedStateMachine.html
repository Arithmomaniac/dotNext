<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class MemoryBasedStateMachine
 | .NEXT </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class MemoryBasedStateMachine
 | .NEXT ">
      
      <link rel="icon" href="../fav.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.json">
      <meta name="docfx:tocrel" content="toc.json">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/dotnet/dotNext/new/gh-pages/docs/api/new?filename=DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine.md&amp;value=---%0Auid%3A%20DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">
  </head>

  <script type="module" src="./../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../doc_logo.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine">



  <h1 id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine" class="text-break">
    Class MemoryBasedStateMachine
  <a class="header-action link-secondary" title="View source" href="https://github.com/dotnet/dotNext/blob/gh-pages/src/cluster/DotNext.Net.Cluster/Net/Cluster/Consensus/Raft/MemoryBasedStateMachine.SnapshotBuilder.cs/#L11"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="DotNext.html">DotNext</a>.<a class="xref" href="DotNext.Net.html">Net</a>.<a class="xref" href="DotNext.Net.Cluster.html">Cluster</a>.<a class="xref" href="DotNext.Net.Cluster.Consensus.html">Consensus</a>.<a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.html">Raft</a></dd></dl>
  <dl><dt>Assembly</dt><dd>DotNext.Net.Cluster.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Represents memory-based state machine with snapshotting support.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public abstract class MemoryBasedStateMachine : PersistentState, IDisposable, IPersistentState, IAuditTrail&lt;IRaftLogEntry&gt;, IAuditTrail</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><a class="xref" href="DotNext.Disposable.html">Disposable</a></div>
      <div><a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html">PersistentState</a></div>
      <div><span class="xref">MemoryBasedStateMachine</span></div>
    </dd>
  </dl>

  <dl class="typelist implements">
    <dt>Implements</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable">IDisposable</a></div>
      <div><a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.IPersistentState.html">IPersistentState</a></div>
      <div><a class="xref" href="DotNext.IO.Log.IAuditTrail-1.html">IAuditTrail</a>&lt;<a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.IRaftLogEntry.html">IRaftLogEntry</a>&gt;</div>
      <div><a class="xref" href="DotNext.IO.Log.IAuditTrail.html">IAuditTrail</a></div>
    </dd>
  </dl>


  <dl class="typelist derived">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_CreateBackupAsync_System_IO_Stream_System_Threading_CancellationToken_">PersistentState.CreateBackupAsync(Stream, CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_RestoreFromBackupAsync_System_IO_Stream_System_IO_DirectoryInfo_System_Threading_CancellationToken_">PersistentState.RestoreFromBackupAsync(Stream, DirectoryInfo, CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_Location">PersistentState.Location</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_ReadAsync__1_DotNext_IO_Log_ILogEntryConsumer_DotNext_Net_Cluster_Consensus_Raft_IRaftLogEntry___0__System_Int64_System_Int64_System_Threading_CancellationToken_">PersistentState.ReadAsync&lt;TResult&gt;(ILogEntryConsumer&lt;IRaftLogEntry, TResult&gt;, long, long, CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_ReadAsync__1_DotNext_IO_Log_ILogEntryConsumer_DotNext_Net_Cluster_Consensus_Raft_IRaftLogEntry___0__System_Int64_System_Threading_CancellationToken_">PersistentState.ReadAsync&lt;TResult&gt;(ILogEntryConsumer&lt;IRaftLogEntry, TResult&gt;, long, CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_AppendAsync__1___0_System_Int64_System_Threading_CancellationToken_">PersistentState.AppendAsync&lt;TEntry&gt;(TEntry, long, CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_AppendAsync__1___0_System_Threading_CancellationToken_">PersistentState.AppendAsync&lt;TEntry&gt;(TEntry, CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_AppendAsync__1___0_System_Boolean_System_Threading_CancellationToken_">PersistentState.AppendAsync&lt;TEntry&gt;(TEntry, bool, CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_AppendAsync__1_DotNext_IO_Log_ILogEntryProducer___0__System_Threading_CancellationToken_">PersistentState.AppendAsync&lt;TEntry&gt;(ILogEntryProducer&lt;TEntry&gt;, CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_DropAsync_System_Int64_System_Boolean_System_Threading_CancellationToken_">PersistentState.DropAsync(long, bool, CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_WaitForCommitAsync_System_Threading_CancellationToken_">PersistentState.WaitForCommitAsync(CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_WaitForCommitAsync_System_Int64_System_Threading_CancellationToken_">PersistentState.WaitForCommitAsync(long, CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_CommitAsync_System_Int64_System_Threading_CancellationToken_">PersistentState.CommitAsync(long, CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_CommitAsync_System_Threading_CancellationToken_">PersistentState.CommitAsync(CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_EnsureConsistencyAsync_System_Threading_CancellationToken_">PersistentState.EnsureConsistencyAsync(CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_Term">PersistentState.Term</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_CreateJsonLogEntry__1___0_System_String_System_Text_Json_JsonSerializerOptions_">PersistentState.CreateJsonLogEntry&lt;T&gt;(T, string, JsonSerializerOptions)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_CreateJsonLogEntry__1___0_System_String_System_Text_Json_Serialization_Metadata_JsonTypeInfo___0__">PersistentState.CreateJsonLogEntry&lt;T&gt;(T, string, JsonTypeInfo&lt;T&gt;)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_LastCommittedEntryIndex">PersistentState.LastCommittedEntryIndex</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html#DotNext_Net_Cluster_Consensus_Raft_PersistentState_LastEntryIndex">PersistentState.LastEntryIndex</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_IsDisposed">Disposable.IsDisposed</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_IsDisposing">Disposable.IsDisposing</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_IsDisposingOrDisposed">Disposable.IsDisposingOrDisposed</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_ThrowIfDisposed">Disposable.ThrowIfDisposed()</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_DisposedTask">Disposable.DisposedTask</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_GetDisposedTask__1">Disposable.GetDisposedTask&lt;T&gt;()</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_TrySetDisposedException__1_System_Threading_Tasks_TaskCompletionSource___0__">Disposable.TrySetDisposedException&lt;T&gt;(TaskCompletionSource&lt;T&gt;)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_TrySetDisposedException_System_Threading_Tasks_TaskCompletionSource_">Disposable.TrySetDisposedException(TaskCompletionSource)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_DisposeAsyncCore">Disposable.DisposeAsyncCore()</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_DisposeAsync">Disposable.DisposeAsync()</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_TryBeginDispose">Disposable.TryBeginDispose()</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_Dispose">Disposable.Dispose()</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_Dispose_System_Collections_Generic_IEnumerable_System_IDisposable__">Disposable.Dispose(IEnumerable&lt;IDisposable&gt;)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_DisposeAsync_System_Collections_Generic_IEnumerable_System_IAsyncDisposable__">Disposable.DisposeAsync(IEnumerable&lt;IAsyncDisposable&gt;)</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_Dispose_System_IDisposable___">Disposable.Dispose(params IDisposable[])</a>
    </div>
    <div>
      <a class="xref" href="DotNext.Disposable.html#DotNext_Disposable_DisposeAsync_System_IAsyncDisposable___">Disposable.DisposeAsync(params IAsyncDisposable[])</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>

  <dl class="typelist extensionMethods">
    <dt>Extension Methods</dt>
    <dd>
  <div>
      <a class="xref" href="DotNext.Linq.Expressions.ExpressionBuilder.html#DotNext_Linq_Expressions_ExpressionBuilder_Const__1___0_">ExpressionBuilder.Const&lt;T&gt;(T)</a>
  </div>
  <div>
      <a class="xref" href="DotNext.ObjectExtensions.html#DotNext_ObjectExtensions_As__1___0_">ObjectExtensions.As&lt;T&gt;(T)</a>
  </div>
  <div>
      <a class="xref" href="DotNext.ObjectExtensions.html#DotNext_ObjectExtensions_GetUserData__1___0_">ObjectExtensions.GetUserData&lt;T&gt;(T)</a>
  </div>
  <div>
      <a class="xref" href="DotNext.ObjectExtensions.html#DotNext_ObjectExtensions_IsOneOf__1___0___0___">ObjectExtensions.IsOneOf&lt;T&gt;(T, params T?[])</a>
  </div>
  <div>
      <a class="xref" href="DotNext.ObjectExtensions.html#DotNext_ObjectExtensions_IsOneOf__1___0_System_Collections_Generic_IEnumerable___0__">ObjectExtensions.IsOneOf&lt;T&gt;(T, IEnumerable&lt;T?&gt;)</a>
  </div>
  <div>
      <a class="xref" href="DotNext.Threading.AsyncLockAcquisition.html#DotNext_Threading_AsyncLockAcquisition_AcquireLockAsync__1___0_System_Threading_CancellationToken_">AsyncLockAcquisition.AcquireLockAsync&lt;T&gt;(T, CancellationToken)</a>
  </div>
  <div>
      <a class="xref" href="DotNext.Threading.AsyncLockAcquisition.html#DotNext_Threading_AsyncLockAcquisition_AcquireLockAsync__1___0_System_TimeSpan_">AsyncLockAcquisition.AcquireLockAsync&lt;T&gt;(T, TimeSpan)</a>
  </div>
  <div>
      <a class="xref" href="DotNext.Threading.AsyncLockAcquisition.html#DotNext_Threading_AsyncLockAcquisition_AcquireReadLockAsync__1___0_System_Threading_CancellationToken_">AsyncLockAcquisition.AcquireReadLockAsync&lt;T&gt;(T, CancellationToken)</a>
  </div>
  <div>
      <a class="xref" href="DotNext.Threading.AsyncLockAcquisition.html#DotNext_Threading_AsyncLockAcquisition_AcquireReadLockAsync__1___0_System_TimeSpan_">AsyncLockAcquisition.AcquireReadLockAsync&lt;T&gt;(T, TimeSpan)</a>
  </div>
  <div>
      <a class="xref" href="DotNext.Threading.AsyncLockAcquisition.html#DotNext_Threading_AsyncLockAcquisition_AcquireWriteLockAsync__1___0_System_Threading_CancellationToken_">AsyncLockAcquisition.AcquireWriteLockAsync&lt;T&gt;(T, CancellationToken)</a>
  </div>
  <div>
      <a class="xref" href="DotNext.Threading.AsyncLockAcquisition.html#DotNext_Threading_AsyncLockAcquisition_AcquireWriteLockAsync__1___0_System_TimeSpan_">AsyncLockAcquisition.AcquireWriteLockAsync&lt;T&gt;(T, TimeSpan)</a>
  </div>
  <div>
      <a class="xref" href="DotNext.Threading.LockAcquisition.html#DotNext_Threading_LockAcquisition_AcquireReadLock__1___0_">LockAcquisition.AcquireReadLock&lt;T&gt;(T)</a>
  </div>
  <div>
      <a class="xref" href="DotNext.Threading.LockAcquisition.html#DotNext_Threading_LockAcquisition_AcquireReadLock__1___0_System_TimeSpan_">LockAcquisition.AcquireReadLock&lt;T&gt;(T, TimeSpan)</a>
  </div>
  <div>
      <a class="xref" href="DotNext.Threading.LockAcquisition.html#DotNext_Threading_LockAcquisition_AcquireUpgradeableReadLock__1___0_">LockAcquisition.AcquireUpgradeableReadLock&lt;T&gt;(T)</a>
  </div>
  <div>
      <a class="xref" href="DotNext.Threading.LockAcquisition.html#DotNext_Threading_LockAcquisition_AcquireUpgradeableReadLock__1___0_System_TimeSpan_">LockAcquisition.AcquireUpgradeableReadLock&lt;T&gt;(T, TimeSpan)</a>
  </div>
  <div>
      <a class="xref" href="DotNext.Threading.LockAcquisition.html#DotNext_Threading_LockAcquisition_AcquireWriteLock__1___0_">LockAcquisition.AcquireWriteLock&lt;T&gt;(T)</a>
  </div>
  <div>
      <a class="xref" href="DotNext.Threading.LockAcquisition.html#DotNext_Threading_LockAcquisition_AcquireWriteLock__1___0_System_TimeSpan_">LockAcquisition.AcquireWriteLock&lt;T&gt;(T, TimeSpan)</a>
  </div>
  </dd></dl>



  <h2 id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>The layout of the audit trail file system:</p>
<table><tbody><tr><td class="term">node.state</td><td class="description">file containing internal state of Raft node</td></tr><tr><td class="term">&lt;partition&gt;</td><td class="description">file containing log partition with log records</td></tr><tr><td class="term">snapshot</td><td class="description">file containing snapshot</td></tr></tbody></table>
The audit trail supports log compaction. However, it doesn't know how to interpret and reduce log records during compaction.
To do that, you can override <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.html#DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_CreateSnapshotBuilder_DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_SnapshotBuilderContext__">CreateSnapshotBuilder(in SnapshotBuilderContext)</a> method and implement state machine logic.
</div>


  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine__ctor_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.#ctor*"></a>

  <h3 id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine__ctor_System_IO_DirectoryInfo_System_Int32_DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_Options_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.#ctor(System.IO.DirectoryInfo,System.Int32,DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.Options)">
  MemoryBasedStateMachine(DirectoryInfo, int, Options?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/dotnet/dotNext/blob/gh-pages/src/cluster/DotNext.Net.Cluster/Net/Cluster/Consensus/Raft/MemoryBasedStateMachine.cs/#L60"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Initializes a new memory-based state machine.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected MemoryBasedStateMachine(DirectoryInfo path, int recordsPerPartition, MemoryBasedStateMachine.Options? configuration = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>path</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.io.directoryinfo">DirectoryInfo</a></dt>
    <dd><p>The path to the folder to be used by audit trail.</p>
</dd>
    <dt><code>recordsPerPartition</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>The maximum number of log entries that can be stored in the single file called partition.</p>
</dd>
    <dt><code>configuration</code> <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.html">MemoryBasedStateMachine</a>.<a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.Options.html">Options</a></dt>
    <dd><p>The configuration of the persistent audit trail.</p>
</dd>
  </dl>









  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentoutofrangeexception">ArgumentOutOfRangeException</a></dt>
    <dd><p><code class="paramref">recordsPerPartition</code> is less than 2.</p>
</dd>
  </dl>



  <a id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine__ctor_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.#ctor*"></a>

  <h3 id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine__ctor_System_String_System_Int32_DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_Options_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.#ctor(System.String,System.Int32,DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.Options)">
  MemoryBasedStateMachine(string, int, Options?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/dotnet/dotNext/blob/gh-pages/src/cluster/DotNext.Net.Cluster/Net/Cluster/Consensus/Raft/MemoryBasedStateMachine.cs/#L83"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Initializes a new memory-based state machine.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected MemoryBasedStateMachine(string path, int recordsPerPartition, MemoryBasedStateMachine.Options? configuration = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>path</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The path to the folder to be used by audit trail.</p>
</dd>
    <dt><code>recordsPerPartition</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>The maximum number of log entries that can be stored in the single file called partition.</p>
</dd>
    <dt><code>configuration</code> <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.html">MemoryBasedStateMachine</a>.<a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.Options.html">Options</a></dt>
    <dd><p>The configuration of the persistent audit trail.</p>
</dd>
  </dl>









  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentoutofrangeexception">ArgumentOutOfRangeException</a></dt>
    <dd><p><code class="paramref">recordsPerPartition</code> is less than 2.</p>
</dd>
  </dl>



  <h2 class="section" id="properties">Properties
</h2>


  <a id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_CompactionCount_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.CompactionCount*"></a>

  <h3 id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_CompactionCount" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.CompactionCount">
  CompactionCount
  <a class="header-action link-secondary" title="View source" href="https://github.com/dotnet/dotNext/blob/gh-pages/src/cluster/DotNext.Net.Cluster/Net/Cluster/Consensus/Raft/MemoryBasedStateMachine.cs/#L151"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets approximate number of partitions that can be compacted.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public long CompactionCount { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int64">long</a></dt>
    <dd></dd>
  </dl>








  <a id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_IsBackgroundCompaction_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.IsBackgroundCompaction*"></a>

  <h3 id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_IsBackgroundCompaction" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.IsBackgroundCompaction">
  IsBackgroundCompaction
  <a class="header-action link-secondary" title="View source" href="https://github.com/dotnet/dotNext/blob/gh-pages/src/cluster/DotNext.Net.Cluster/Net/Cluster/Consensus/Raft/MemoryBasedStateMachine.cs/#L95"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets a value indicating that log compaction should
be called manually using <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.html#DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_ForceCompactionAsync_System_Int64_System_Threading_CancellationToken_">ForceCompactionAsync(long, CancellationToken)</a>
in the background.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool IsBackgroundCompaction { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd></dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_ApplyAsync_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.ApplyAsync*"></a>

  <h3 id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_ApplyAsync_DotNext_Net_Cluster_Consensus_Raft_PersistentState_LogEntry_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.ApplyAsync(DotNext.Net.Cluster.Consensus.Raft.PersistentState.LogEntry)">
  ApplyAsync(LogEntry)
  <a class="header-action link-secondary" title="View source" href="https://github.com/dotnet/dotNext/blob/gh-pages/src/cluster/DotNext.Net.Cluster/Net/Cluster/Consensus/Raft/MemoryBasedStateMachine.cs/#L685"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Applies the command represented by the log entry to the underlying database engine.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected abstract ValueTask ApplyAsync(PersistentState.LogEntry entry)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>entry</code> <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.html">PersistentState</a>.<a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.PersistentState.LogEntry.html">LogEntry</a></dt>
    <dd><p>The entry to be applied to the state machine.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.valuetask">ValueTask</a></dt>
    <dd><p>The task representing asynchronous execution of this method.</p>
</dd>
  </dl>









  <dl class="typelist seealso">
    <dt>See Also</dt>
    <dd>
    <div><a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.Commands.CommandInterpreter.html">CommandInterpreter</a></div>
    </dd>
  </dl>


  <a id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_ClearAsync_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.ClearAsync*"></a>

  <h3 id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_ClearAsync_System_Threading_CancellationToken_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.ClearAsync(System.Threading.CancellationToken)">
  ClearAsync(CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/dotnet/dotNext/blob/gh-pages/src/cluster/DotNext.Net.Cluster/Net/Cluster/Consensus/Raft/MemoryBasedStateMachine.cs/#L785"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Removes all log entries from the log.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override sealed Task ClearAsync(CancellationToken token = default)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>token</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>The token that can be used to cancel the operation.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task">Task</a></dt>
    <dd><p>The task representing asynchronous result of the method.</p>
</dd>
  </dl>








  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.operationcanceledexception">OperationCanceledException</a></dt>
    <dd><p>The operation has been cancelled.</p>
</dd>
  </dl>



  <a id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_CreateSnapshotBuilder_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.CreateSnapshotBuilder*"></a>

  <h3 id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_CreateSnapshotBuilder_DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_SnapshotBuilderContext__" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.CreateSnapshotBuilder(DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.SnapshotBuilderContext@)">
  CreateSnapshotBuilder(in SnapshotBuilderContext)
  <a class="header-action link-secondary" title="View source" href="https://github.com/dotnet/dotNext/blob/gh-pages/src/cluster/DotNext.Net.Cluster/Net/Cluster/Consensus/Raft/MemoryBasedStateMachine.SnapshotBuilder.cs/#L244"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Creates a new snapshot builder.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected abstract MemoryBasedStateMachine.SnapshotBuilder CreateSnapshotBuilder(in MemoryBasedStateMachine.SnapshotBuilderContext context)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>context</code> <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.html">MemoryBasedStateMachine</a>.<a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.SnapshotBuilderContext.html">SnapshotBuilderContext</a></dt>
    <dd><p>The context of the snapshot builder.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.html">MemoryBasedStateMachine</a>.<a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.SnapshotBuilder.html">SnapshotBuilder</a></dt>
    <dd><p>The snapshot builder.</p>
</dd>
  </dl>











  <a id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_Dispose_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.Dispose*"></a>

  <h3 id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_Dispose_System_Boolean_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.Dispose(System.Boolean)">
  Dispose(bool)
  <a class="header-action link-secondary" title="View source" href="https://github.com/dotnet/dotNext/blob/gh-pages/src/cluster/DotNext.Net.Cluster/Net/Cluster/Consensus/Raft/MemoryBasedStateMachine.cs/#L805"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Releases all resources associated with this audit trail.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override void Dispose(bool disposing)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>disposing</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p><a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool">true</a> if called from <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable.dispose">Dispose()</a>; <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool">false</a> if called from finalizer.</p>
</dd>
  </dl>












  <a id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_ForceCompactionAsync_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.ForceCompactionAsync*"></a>

  <h3 id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_ForceCompactionAsync_System_Int64_System_Threading_CancellationToken_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.ForceCompactionAsync(System.Int64,System.Threading.CancellationToken)">
  ForceCompactionAsync(long, CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/dotnet/dotNext/blob/gh-pages/src/cluster/DotNext.Net.Cluster/Net/Cluster/Consensus/Raft/MemoryBasedStateMachine.cs/#L173"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Forces log compaction.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ValueTask ForceCompactionAsync(long count, CancellationToken token)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>count</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int64">long</a></dt>
    <dd><p>The number of partitions to be compacted.</p>
</dd>
    <dt><code>token</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>The token that can be used to cancel the operation.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.valuetask">ValueTask</a></dt>
    <dd><p>The task representing asynchronous execution of this operation.</p>
</dd>
  </dl>







  <h4 class="section" id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_ForceCompactionAsync_System_Int64_System_Threading_CancellationToken__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>Full compaction may be time-expensive operation. In this case,
all readers will be blocked until the end of the compaction.
Therefore, <code class="paramref">count</code> can be used to reduce
lock contention between compaction and readers. If it is <code>1</code>
then compaction range is limited to the log entries contained in the single partition.
This may be helpful if manual compaction is triggered by the background job.
The job can wait for the commit using <code>WaitForCommitAsync(CancellationToken)</code>
and then call this method with appropriate number of partitions to be collected
according with <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.html#DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_CompactionCount">CompactionCount</a> property.</p>
</div>

  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.objectdisposedexception">ObjectDisposedException</a></dt>
    <dd><p>This log is disposed.</p>
</dd>
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.operationcanceledexception">OperationCanceledException</a></dt>
    <dd><p>The operation has been canceled.</p>
</dd>
  </dl>



  <a id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_InitializeAsync_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.InitializeAsync*"></a>

  <h3 id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_InitializeAsync_System_Threading_CancellationToken_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.InitializeAsync(System.Threading.CancellationToken)">
  InitializeAsync(CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/dotnet/dotNext/blob/gh-pages/src/cluster/DotNext.Net.Cluster/Net/Cluster/Consensus/Raft/MemoryBasedStateMachine.cs/#L774"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Initializes this state asynchronously.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override Task InitializeAsync(CancellationToken token = default)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>token</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>The token that can be used to cancel the operation.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task">Task</a></dt>
    <dd><p>The task representing asynchronous result of the method.</p>
</dd>
  </dl>








  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.operationcanceledexception">OperationCanceledException</a></dt>
    <dd><p>The operation has been cancelled.</p>
</dd>
  </dl>



  <a id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_ReplayAsync_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.ReplayAsync*"></a>

  <h3 id="DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_ReplayAsync_System_Threading_CancellationToken_" data-uid="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.ReplayAsync(System.Threading.CancellationToken)">
  ReplayAsync(CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/dotnet/dotNext/blob/gh-pages/src/cluster/DotNext.Net.Cluster/Net/Cluster/Consensus/Raft/MemoryBasedStateMachine.cs/#L727"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Reconstructs dataset by calling <a class="xref" href="DotNext.Net.Cluster.Consensus.Raft.MemoryBasedStateMachine.html#DotNext_Net_Cluster_Consensus_Raft_MemoryBasedStateMachine_ApplyAsync_DotNext_Net_Cluster_Consensus_Raft_PersistentState_LogEntry_">ApplyAsync(LogEntry)</a>
for each committed entry.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task ReplayAsync(CancellationToken token = default)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>token</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>The token that can be used to cancel the operation.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task">Task</a></dt>
    <dd><p>The task representing asynchronous state of the method.</p>
</dd>
  </dl>












</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/dotnet/dotNext/blob/gh-pages/src/cluster/DotNext.Net.Cluster/Net/Cluster/Consensus/Raft/MemoryBasedStateMachine.SnapshotBuilder.cs/#L11" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Supported by the <a href="https://dotnetfoundation.org">.NET Foundation</a>
        </div>
      </div>
    </footer>
  </body>
</html>
