<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Generic specialization with constant values | .NEXT </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Generic specialization with constant values | .NEXT ">
      
      <link rel="icon" href="../../fav.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.json">
      <meta name="docfx:tocrel" content="../toc.json">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/dotnet/dotNext/blob/gh-pages/docs/features/core/constgen.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">
  </head>

  <script type="module" src="./../../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../doc_logo.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="generic-specialization-with-constant-values">Generic specialization with constant values</h1>

<p>Such kind of specialization <a href="https://en.cppreference.com/w/cpp/language/template_parameters">widely used</a> in C++ to pass a constant known at compile time as template argument. C# and Common Language Runtime do not support this feature directly. DotNext library offers such functionality via conversion of actual generic argument into value using implicit cast conversion. This approach doesn't provide compile time check of constant value passed as generic argument but the type of this constant is controlled by compiler.</p>
<p>The base class for any constant-value-as-generic-argument is <a class="xref" href="../../api/DotNext.Generic.Constant-1.html">Constant</a>. This type itself is a generic class which type parameter indicates type of the constant value. If you need to pass constant value as generic argument then two restrictions should be satisfied:</p>
<ol>
<li>Generic parameter should be of type <strong>Constant</strong></li>
<li>Generic parameter should have constructor without parameters</li>
</ol>
<p>The following example demonstrates how to declare custom array type with the specific length passed as constant value into generic argument:</p>
<pre><code class="lang-csharp">using DotNext.Generic;

public sealed class IntVector&lt;SIZE&gt; where SIZE: Constant&lt;long&gt;, new()
{
    private static readonly long Size = new SIZE();

    private readonly int[] array = new int[Size];
}

//declare constant as type
internal sealed class Ten: Constant&lt;long&gt;
{
    public Ten(): base(10) { }
}

//instantiate vector
var vector = new IntVector&lt;Ten&gt;();  //creates vector of length 10
</code></pre>
<p>Constant value passed as generic argument is available in static context inside of vector class. Such approach allows to pass custom data into static constructor and avoid passing unecessary data through instance constructor.</p>
<p>The library offers a few predefined constant types:</p>
<ul>
<li><a class="xref" href="../../api/DotNext.Generic.BooleanConst.html">BooleanConst</a> to pass boolean constant as generic argument</li>
<li><a class="xref" href="../../api/DotNext.Generic.Int32Const.html">Int32Const</a> to pass integer constant as generic argument</li>
<li><a class="xref" href="../../api/DotNext.Generic.Int64Const.html">Int64Const</a> to pass long integer constant as generic argument</li>
<li><a class="xref" href="../../api/DotNext.Generic.StringConst.html">StringConst</a> to pass string constant as generic argument</li>
<li><a class="xref" href="../../api/DotNext.Generic.DefaultConst-1.html">DefaultConst</a> to pass default value of <code>T</code> as generic argument</li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/dotnet/dotNext/blob/gh-pages/docs/features/core/constgen.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Supported by the <a href="https://dotnetfoundation.org">.NET Foundation</a>
        </div>
      </div>
    </footer>
  </body>
</html>
